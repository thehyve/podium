<!--
  ~ Copyright (c) 2017. The Hyve and respective contributors
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~
  ~ See the file LICENSE in the root of this repository.
  ~
  -->

<div class="content-wrapper">

    <div class="container-fluid">
        <div class="col-md-6 offset-md-3 card-container">
            <h2>
                <span jhiTranslate="elasticsearch.reindex.title">Reindex Elasticsearch</span>
                <button type="button" class="btn btn-primary pull-right" (click)="confirmReindexing()">
                    <span class="glyphicon glyphicon-exclamation-sign"></span>
                    <span jhiTranslate="elasticsearch.reindex.go">
                        Reindex
                    </span>
                </button>
            </h2>
            <pdm-alert></pdm-alert>

            <br />
            <div class="alert alert-info" *ngIf="processingIndex">
                <strong>
                    <span jhiTranslate="elasticsearch.reindex.accepted">
                        Request accepted, performing full Elasticsearch reindexing.
                    </span>
                </strong>
            </div>

            <p jhiTranslate="elasticsearch.reindex.instructions1">
                This will send a request to reindex all data from your primary datasource into Elasticsearch. This will fix
                missing data and mapping issues, however you will lose any ES data and mapping that was defined outside of your
                application. This request will return immediately and the reindexing will run in the background. You will see
                "Elasticsearch: Successfully performed reindexing" in your logs when this is complete.
            </p>

            <p>
                <strong>
                    <span jhiTranslate="elasticsearch.reindex.instructions2">
                        This can take a long time and is susceptible to concurrency issues so it should be performed when the number of
                        users is low.
                    </span>
                </strong>

            </p>

        </div>
    </div>
</div>
