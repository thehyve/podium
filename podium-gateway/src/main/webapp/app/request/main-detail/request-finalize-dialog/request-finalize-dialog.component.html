<!--
  ~ Copyright (c) 2017. The Hyve and respective contributors
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~
  ~ See the file LICENSE in the root of this repository.
  ~
  -->

<div class="request-finalize-container">
    <form #finalizeRequestForm="ngForm" class="form" role="form" (ngSubmit)="confirmRequestFinalize()">
        <div class="modal-header finalize-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"
                    (click)="close()">&times;</button>
            <h4 class="modal-title">
                <span class="material-icons">assignment</span>
                <span jhiTranslate="request.finalize.header" translateValues="{{getHeaderTranslation()}}">
                    Finalize request header
                </span>
            </h4>
        </div>
        <div class="modal-body">
            <jhi-alert-error></jhi-alert-error>

            <h4 jhiTranslate="request.finalize.body.header">
                Completing this step will result in the closing of the request
            </h4>
            <p jhiTranslate="request.finalize.body.info">
                The outcome of the request depends on whether all the requested materials have been received by the researcher.
            </p>

            <div [ngSwitch]="expectedOutcome" class="finalize-outcome">
                <p *ngSwitchCase="outcomeOptions.Delivered" jhiTranslate="request.finalize.body.full_delivery">
                    All requested types have been released or received, therefore the request will be marked as 'Delivered'.
                </p>

                <p *ngSwitchCase="outcomeOptions.Partially_Delivered" jhiTranslate="request.finalize.body.partial_delivery">
                    Not all requested types have released or received, therefore the request will be marked as 'Partially delivered'.
                </p>

                <p *ngSwitchCase="outcomeOptions.Cancelled" jhiTranslate="request.finalize.body.no_delivery">
                    None of the requested types have been released or received, therefore the request will be marked as 'Cancelled'.
                </p>
            </div>

        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="close()">
                <span class="material-icons">keyboard_backspace</span>&nbsp;
                <span jhiTranslate="delivery.actions.cancel">Cancel</span>
            </button>
            <button type="submit" class="btn btn-success">
                <span class="material-icons">done_all</span>
                &nbsp;
                <span jhiTranslate="request.finalize.actions.submit">Submit</span>
            </button>
        </div>
    </form>
</div>
