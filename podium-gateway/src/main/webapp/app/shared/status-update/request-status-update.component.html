<!--
  ~ Copyright (c) 2017. The Hyve and respective contributors
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~
  ~ See the file LICENSE in the root of this repository.
  ~
  -->

<div class="request-status-update-container">
    <form #statusUpdateForm="ngForm" class="form" role="form" (ngSubmit)="confirmStatusUpdate()">
        <div class="modal-header"
             [ngClass]="{'reject-header': status == 'Reject', 'revision-header': status == 'Revision'}">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"
                    (click)="close()">&times;</button>
            <h4 class="modal-title">
                <span class="material-icons">warning</span>&nbsp;
                <span jhiTranslate="request.statusupdate.{{status}}.question">
                      Are you sure you want to reject or request a revision for this request?
                </span>
            </h4>
        </div>
        <div class="modal-body">
            <jhi-alert-error></jhi-alert-error>

            <div class="form-group">
                <label for="messageSummary"
                       jhiTranslate="request.statusupdate.form.summary.label">Summary</label>

                <input type="text" class="form-control" name="messageSummary" id="messageSummary"
                       required minlength="1" maxlength="50" #messageSummary="ngModel"
                       autocomplete="off" placeholder="{{'request.statusupdate.form.summary.placeholder' | translate}}"
                       [(ngModel)]="message.summary"/>
            </div>
            <div class="form-group">
                <label for="messageDescription"
                       jhiTranslate="request.statusupdate.form.description.label">Description</label>

                <textarea type="text" class="form-control" name="messageDescription" id="messageDescription"
                          autocomplete="off"
                          placeholder="{{'request.statusupdate.form.description.placeholder' | translate}}"
                          minlength="1" maxlength="500" rows="4" #messageDescription="ngModel"
                          [(ngModel)]="message.description">
                    </textarea>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="close()">
                <span class="material-icons">cancel</span>&nbsp;
                <span jhiTranslate="request.action.cancel">Cancel</span>
            </button>
            <button type="submit" [disabled]="!statusUpdateForm.form.valid" class="btn"
                    [ngClass]="{'btn-danger': status == 'Reject', 'btn-default': status == 'Revision'}">
                <span class="material-icons">send</span>&nbsp;
                <span jhiTranslate="request.action.submit"
                      tooltip="Please provide at least a summary of your message."
                      [isDisabled]="statusUpdateForm.form.valid">Submit</span>
            </button>
        </div>
    </form>
</div>
