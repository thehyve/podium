<!DOCTYPE html>
<!--
  ~ Copyright (c) 2017. The Hyve and respective contributors
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~
  ~ See the file LICENSE in the root of this repository.
  ~
  -->

<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title th:text="#{email.requesterRequestClosed.title(${request.getOrganisations().get(0).getName()})}">BBMRI Podium Request Portal &ndash; Request finished by [organisation]</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    </head>
    <body>
        <p th:text="#{email.greeting(${user.firstName}, ${user.lastName})}">
            Dear
        </p>

        <div th:switch="${request.getOutcome().name()}">
            <p th:case="'Delivered'">
            <span th:text="#{email.requesterRequestClosed.delivered(${request.getOrganisations().get(0).getName()})}">
                Organisation [organisation] has finished your request. All deliveries for the request have been successfully completed.
            </span>
            </p>
            <p th:case="'Partially_Delivered'">
            <span th:text="#{email.requesterRequestClosed.partiallyDelivered(${request.getOrganisations().get(0).getName()})}">
                Organisation [organisation] has finished your request. Some deliveries for the request have been successfully completed.
            </span>
            </p>
            <p th:case="'Cancelled'">
            <span th:text="#{email.requesterRequestClosed.cancelled(${request.getOrganisations().get(0).getName()})}">
                Organisation [organisation] has finished your request. The deliveries for the request have been cancelled.
            </span>
            </p>
            <p th:case="'Approved'">
            <span th:text="#{email.requesterRequestClosed.approved(${request.getOrganisations().get(0).getName()})}">
                Organisation [organisation] has finished your request. The request has been approved, but no deliveries have been recorded.
            </span>
            </p>
        </div>

        <p>
            <span th:text="#{email.requesterRequestClosed.text1}">
                We hope we can support you in the future with new requests.
            </span>
        </p>

        <p>
            <span th:text="#{email.requesterRequestClosed.text2}">
                To view the request, please use the link below.
            </span>
            <br />
            <a th:href="@{|${baseUrl}/#/requests/detail/${request.getUuid()}|}">
                <span th:text="@{|${baseUrl}/#/requests/detail/${request.getUuid()}|}"></span>
            </a>
        </p>

        <p>
            <span th:text="#{email.signature.signoff}">With kind regards,</span>
            <br/>
            <span th:text="#{email.signature.group}">BBMRI Request Portal</span>
            <br/>
            <span th:text="#{email.signature.email}">E-mail: servicedesk@ctmm-trait.nl</span>
            <br/>
            <span th:text="#{email.signature.servicelink}">Selfservice: http://trait.topdesk.net</span>
            <br/>
            <span th:text="#{email.signature.telephone}">Telephone: +31 (0)881167500</span>
        </p>

        <p>
            --
            <br />
            <span th:text="#{email.autogenerated}"></span>
        </p>
    </body>
</html>
